<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Invitación • XV Años</title>
<style>
  :root{
    --gold1:#b8860b;
    --gold2:#ffd700;
    --paper:#fffaf3;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: "Poppins", system-ui, sans-serif;
    background:#0b0f1a;
    overflow:hidden;
  }

  .sparkle{
    position:absolute;
    border-radius:50%;
    background:radial-gradient(circle, var(--gold2), transparent);
    opacity:0.8;
    animation: float 8s linear infinite;
  }
  @keyframes float{
    from{ transform:translateY(0) scale(0.5); opacity:0.4; }
    50%{ opacity:1; }
    to{ transform:translateY(-40px) scale(1); opacity:0.4; }
  }

  .container{
    position:relative;
    z-index:2;
    height:100%;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    color:white;
    text-align:center;
    padding:20px;
  }

  .open-btn, .nav-btn, #muteBtn{
    background:linear-gradient(45deg,var(--gold1),var(--gold2));
    border:none;
    color:#fff;
    padding:15px 30px;
    margin:15px;
    border-radius:30px;
    font-size:18px;
    font-weight:bold;
    cursor:pointer;
    box-shadow:0 0 15px var(--gold2);
    transition:transform 0.2s;
  }
  .open-btn:hover, .nav-btn:hover, #muteBtn:hover{
    transform:scale(1.05);
  }

  .shake{
    animation:shake 0.5s;
  }
  @keyframes shake{
    0%{transform:translate(0,0);}
    20%{transform:translate(-10px,0);}
    40%{transform:translate(10px,0);}
    60%{transform:translate(-10px,0);}
    80%{transform:translate(10px,0);}
    100%{transform:translate(0,0);}
  }

  .flash{
    position:fixed;
    top:0;left:0;right:0;bottom:0;
    background:var(--paper);
    opacity:0;
    z-index:5;
    pointer-events:none;
  }
  .flash.active{
    animation:flashAnim 2.5s forwards;
  }
  @keyframes flashAnim{
    0%{opacity:1;}
    100%{opacity:0;}
  }

  .page{
    display:none;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    height:100%;
    color:#333;
    font-size:24px;
    padding:20px;
  }
  .page.active{display:flex;}

  .paper{
    background:var(--paper);
    border-radius:20px;
    padding:30px;
    max-width:90%;
    width:500px;
    box-shadow:0 0 25px rgba(255,215,0,0.4);
    text-align:center;
  }
</style>
</head>
<body>
<script>
  for(let i=0;i<60;i++){
    let s=document.createElement("div");
    s.className="sparkle";
    let size=Math.random()*6+3;
    s.style.width=s.style.height=size+"px";
    s.style.left=Math.random()*100+"vw";
    s.style.top=Math.random()*100+"vh";
    s.style.animationDuration=(6+Math.random()*8)+"s";
    document.body.appendChild(s);
  }
</script>

<div class="flash" id="flash"></div>
<audio id="bgMusic" src="Defondo3.mp3" loop></audio>

<div class="container">
  <!-- Página 0: portada -->
  <div class="page active" id="page0">
    <button class="open-btn" id="openBtn">📩 Abrir invitación</button>
  </div>

  <!-- Página 1 -->
  <div class="page" id="page1">
    <div class="paper">
      <p>✨ ¡Has sido invitado a mi fiesta! ✨</p>
      <div>
        <button class="nav-btn" onclick="prevPage()">Anterior</button>
        <button class="nav-btn" onclick="nextPage()">Siguiente</button>
      </div>
    </div>
  </div>

  <!-- Página 2 -->
  <div class="page" id="page2">
    <div class="paper">
      <p>📍 Ubicación del evento</p>
      <a href="https://www.google.com/maps" target="_blank">
        <button class="nav-btn">🌐 Ver en Google Maps</button>
      </a>
      <div>
        <button class="nav-btn" onclick="prevPage()">Anterior</button>
        <button class="nav-btn" onclick="nextPage()">Siguiente</button>
      </div>
    </div>
  </div>

  <!-- Página 3 -->
  <div class="page" id="page3">
    <div class="paper">
      <p>🎉 ¡Te esperamos con mucha alegría! 💖</p>
      <button class="nav-btn" onclick="prevPage()">Anterior</button>
    </div>
  </div>

  <button id="muteBtn">🔇</button>
</div>

<script>
let currentPage=0;
let music=document.getElementById("bgMusic");
let muted=true;
let muteBtn=document.getElementById("muteBtn");

// actualizar botones según página
function updateNavButtons(){
  document.querySelectorAll(".nav-btn").forEach(btn=>btn.disabled=false);
  // Primera hoja: deshabilitar "Anterior"
  if(currentPage===1){
    document.querySelector("#page1 .nav-btn[onclick*='prevPage']").disabled=true;
  }
  // Última hoja: deshabilitar "Siguiente"
  if(currentPage===3){
    document.querySelector("#page3 .nav-btn[onclick*='nextPage']").disabled=true;
  }
}

function showPage(n){
  if(n<1) return; // no antes de la primera hoja
  if(n>3) return; // no después de la última página
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
  document.getElementById("page"+n).classList.add("active");
  currentPage=n;
  updateNavButtons();
}

// navegación
function nextPage(){ showPage(currentPage+1); }
function prevPage(){ showPage(currentPage-1); }

// abrir invitación
document.getElementById("openBtn").addEventListener("click",()=>{
  let btn=document.getElementById("openBtn");
  let flash=document.getElementById("flash");

  flash.classList.add("active");
  btn.classList.add("shake");

  if(muted){
    music.muted=false;
    muted=false;
    muteBtn.textContent="🔊";
  }
  music.play();

  setTimeout(()=>{
    btn.style.display="none";
    showPage(1);
    btn.classList.remove("shake");
  }, 100);

  setTimeout(()=>{
    flash.classList.remove("active");
  }, 2500);
});

// mute/desmute
muteBtn.addEventListener("click",()=>{
  if(muted){
    music.muted=false;
    muted=false;
    muteBtn.textContent="🔊";
  } else {
    music.muted=true;
    muted=true;
    muteBtn.textContent="🔇";
  }
});
</script>
</body>
</html>
